diff -Nur shadow-4.0.5.orig/lib/getdef.c shadow-4.0.5/lib/getdef.c
--- shadow-4.0.5.orig/lib/getdef.c	2002-01-06 15:08:00.000000000 +0100
+++ shadow-4.0.5/lib/getdef.c	2003-06-20 19:34:37.000000000 +0200
@@ -113,6 +113,10 @@
 	{ "SYSLOG_SG_ENAB",		NULL },
 	{ "SYSLOG_SU_ENAB",		NULL },
 #endif
+	{ "SYS_GID_MAX",		NULL },
+	{ "SYS_GID_MIN",		NULL },
+	{ "SYS_UID_MAX",		NULL },
+	{ "SYS_UID_MIN",		NULL },
 	{ "TTYGROUP",			NULL },
 	{ "TTYPERM",			NULL },
 	{ "TTYTYPE_FILE",		NULL },
diff -Nur shadow-4.0.5/man/groupadd.8.orig shadow-4.0.5/man/groupadd.8
--- shadow-4.0.5/man/groupadd.8.orig	2004-01-05 02:08:23.000000000 +0100
+++ shadow-4.0.5/man/groupadd.8	2004-02-29 00:40:47.255149000 +0100
@@ -30,7 +30,7 @@
 groupadd \- Create a new group
 .SH SYNOPSIS
 .TP 6
-\fBgroupadd\fR [\fB-g\fI gid \fR[\fB-o\fR]] [\fB-f\fR] \fIgroup\fR
+\fBgroupadd\fR [\fB-g\fI gid \fR[\fB-o\fR]] [\fB-f\fR] [\fB-r\fR] \fIgroup\fR
 .SH DESCRIPTION
 The \fBgroupadd\fR command creates a new group account using the values
 specified on the command line and the default values from the system. The
@@ -45,6 +45,9 @@
 \fB-o\fR option is used. The value must be non-negative. The default is to
 use the smallest ID value greater than 99 and greater than every other
 group. Values between 0 and 99 are typically reserved for system accounts.
+.IP "\fB-r\fR"
+This flag is used to create a system group, with gid lower than usual
+(chosen between SYS_GID_MIN and SYS_GID_MAX).
 .SH FILES
 \fI/etc/group\fR	\- group account information
 .br
diff -Nur shadow-4.0.5.orig/man/pl/groupadd.8 shadow-4.0.5/man/pl/groupadd.8
--- shadow-4.0.5.orig/man/pl/groupadd.8	2003-06-20 19:06:15.000000000 +0200
+++ shadow-4.0.5/man/pl/groupadd.8	2003-06-20 19:40:17.000000000 +0200
@@ -30,7 +30,7 @@
 .SH NAZWA
 groupadd - twÛrz now± grupÍ
 .SH SK£ADNIA
-\fBgroupadd\fR [\fB-g\fR \fIgid\fR [\fB-o\fR]] [\fB-f\fR] \fIgrupa\fR
+\fBgroupadd\fR [\fB-g\fR \fIgid\fR [\fB-o\fR]] [\fB-f\fR] [\fB-r\fR] \fIgrupa\fR
 .SH OPIS
 Polecenie \fBgroupadd\fR tworzy nowe konto grupy pos≥uguj±c siÍ
 warto∂ciami podanymi w wierszu poleceÒ i domy∂lnymi warto∂ciami z systemu.
@@ -49,6 +49,10 @@
 uøywana jest najmniejsza warto∂Ê identyfikatora wiÍksza niø 99 a wiÍksza niø
 jakiejkolwiek innej grupy.
 Warto∂ci miÍdzy 0 a 99 s± zwykle zarezerwowane dla kont systemowych.
+.TP
+.BI -r
+Ta opcja s≥uøy do zak≥adania grup systemowych, z identyfikatorami niøszymi
+niø zwykle (wybieranymi z przedzia≥u od SYS_GID_MIN do SYS_GID_MAX).
 .SH PLIKI
 \fI/etc/group\fR	\- informacja o kontach grup
 .br
diff -Nur shadow-4.0.5.orig/man/pl/useradd.8 shadow-4.0.5/man/pl/useradd.8
--- shadow-4.0.5.orig/man/pl/useradd.8	2003-06-20 19:06:15.000000000 +0200
+++ shadow-4.0.5/man/pl/useradd.8	2003-06-20 19:41:22.000000000 +0200
@@ -106,12 +106,9 @@
 .IP "\fB-p \fIpasswd\fR"
 Zakodowane has≥o w postaci zwracanej przez \fBcrypt\fR(3).
 Domy∂lnym dzia≥aniem jest blokowanie konta.
-.\" .IP \fB-r\fR
-.\" Tworzenie konta systemowego. Ta opcja pozwala na utworzenie konta o UID
-.\" niøszym niø UID_MIN zdefiniowane w fI/etc/login.defs\fR. O ile nie poda siÍ
-.\" dodatkowo opcji \fB-m\fR nie jest tworzony katalog domowy dla tak tworzonego
-.\" uøytkownika niezaleønie od tego czy tworzenie katalogu jest ustawione czy
-.\" nie w \fI/etc/login.defs\fR.
+.IP \fB-r\fR
+Tworzenie konta systemowego, z identyfikatorem niøszym niø zwykle
+(wybieranym z przedzia≥u od SYS_UID_MIN do SYS_UID_MAX). 
 .IP "\fB-s \fIpow≥oka\fR"
 Nazwa pow≥oki (shell) uøytkownika. Ustawienie tego pola na puste
 powoduje, øe system wybierze domy∂ln± pow≥okÍ logowania.
diff -Nur shadow-4.0.5/man/useradd.8.orig shadow-4.0.5/man/useradd.8
--- shadow-4.0.5/man/useradd.8.orig	2003-05-07 16:04:53.000000000 +0200
+++ shadow-4.0.5/man/useradd.8	2004-02-29 00:41:58.145372048 +0100
@@ -38,7 +38,7 @@
 .br
 [[\fB-M\fR] \fB-m\fR [\fB-k\fR \fIskeleton_dir\fR]] [\fB-o\fR] [\fB-p\fR \fIpasswd\fR]
 .br
-[\fB-s\fR \fIshell\fR] [\fB-u\fR \fIuid\fR] \fIlogin\fR
+[\fB-r\fR] [\fB-s\fR \fIshell\fR] [\fB-u\fR \fIuid\fR] \fIlogin\fR
 .TP 8
 \fBuseradd\fR \fB-D\fR [\fB-g\fI default_group\fR] [\fB-b\fI default_home\fR]
 .br
@@ -96,6 +96,9 @@
 .IP "\fB-p \fIpasswd\fR"
 The encrypted password, as returned by \fBcrypt\fR(3). The default is to
 disable the account.
+.IP "\fB-r\fR"
+This flag is used to create a system account, with uid lower than
+usual (chosen between SYS_UID_MIN and SYS_UID_MAX).
 .IP "\fB-s\fR \fIshell\fR"
 The name of the user's login shell. The default is to leave this field
 blank, which causes the system to select the default login shell.
diff -Nur shadow-4.0.5/po/ca.po.orig shadow-4.0.5/po/ca.po
--- shadow-4.0.5/po/ca.po.orig	2004-10-24 23:35:36.000000000 +0200
+++ shadow-4.0.5/po/ca.po	2004-10-24 23:35:36.000000000 +0200
@@ -799,8 +799,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Forma d'√∫s: groupadd [-g gid [-o]] [-f] grup\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Forma d'√∫s: groupadd [-g gid [-o]] [-f] [-r] grup\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1845,8 +1845,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                     [-p contrasenya] nom\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                     [-p contrasenya] [-r] nom\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/cs.po.orig shadow-4.0.5/po/cs.po
--- shadow-4.0.5/po/cs.po.orig	2004-02-29 01:08:36.961315080 +0100
+++ shadow-4.0.5/po/cs.po	2004-02-29 01:09:26.960714016 +0100
@@ -793,8 +793,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Pou≈æit√≠: groupadd [-g gid [-o]] [-f] skupina\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Pou≈æit√≠: groupadd [-g gid [-o]] [-f] [-r] skupina\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1839,8 +1839,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                 [-p heslo] jm√©no\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                 [-p heslo] [-r]  jm√©no\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/da.po.orig shadow-4.0.5/po/da.po
--- shadow-4.0.5/po/da.po.orig	2004-10-24 23:35:36.000000000 +0200
+++ shadow-4.0.5/po/da.po	2004-10-24 23:35:36.000000000 +0200
@@ -792,8 +792,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Brug: groupadd [-g gid [-o]] [-f] gruppe\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Brug: groupadd [-g gid [-o]] [-f] [-r] gruppe\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1834,8 +1834,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "              [-p adgangskode] navn\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "              [-p adgangskode] [-r] navn\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/de.po.orig shadow-4.0.5/po/de.po
--- shadow-4.0.5/po/de.po.orig	2004-02-29 01:08:36.966314320 +0100
+++ shadow-4.0.5/po/de.po	2004-02-29 01:10:04.905945464 +0100
@@ -792,8 +792,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Syntax: groupadd [-g gid [-o]] [-f] Gruppe\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Syntax: groupadd [-g gid [-o]] [-f] [-r] Gruppe\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1837,8 +1837,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                [-p Kennwort] Name\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                [-p Kennwort] [-r] Name\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/el.po.orig shadow-4.0.5/po/el.po
--- shadow-4.0.5/po/el.po.orig	2004-02-29 01:08:36.971313560 +0100
+++ shadow-4.0.5/po/el.po	2004-02-29 01:10:30.875997416 +0100
@@ -800,8 +800,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "ŒßœÅŒÆœÉŒ∑: groupadd [-g gid [-o]] [-f] ŒøŒºŒ¨Œ¥Œ±\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "ŒßœÅŒÆœÉŒ∑: groupadd [-g gid [-o]] [-f] [-r] ŒøŒºŒ¨Œ¥Œ±\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1858,8 +1858,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "               [-p œÉœÖŒΩŒ∏Œ∑ŒºŒ±œÑŒπŒ∫œå] œåŒΩŒøŒºŒ±\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "               [-p œÉœÖŒΩŒ∏Œ∑ŒºŒ±œÑŒπŒ∫œå] [-r] œåŒΩŒøŒºŒ±\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/es.po.orig shadow-4.0.5/po/es.po
--- shadow-4.0.5/po/es.po.orig	2004-10-24 23:35:36.000000000 +0200
+++ shadow-4.0.5/po/es.po	2004-10-24 23:35:36.000000000 +0200
@@ -797,8 +797,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Modo de uso: groupadd [-g gid [-o]] [-f] grupo\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Modo de uso: groupadd [-g gid [-o]] [-f] [-r] grupo\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1850,8 +1850,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                     [-p contrase√±a] nombre\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                     [-p contrase√±a] [-r] nombre\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/eu.po.orig shadow-4.0.5/po/eu.po
--- shadow-4.0.5/po/eu.po.orig	2004-10-24 23:35:36.000000000 +0200
+++ shadow-4.0.5/po/eu.po	2004-10-24 23:35:36.000000000 +0200
@@ -794,8 +794,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Erabilera: groupadd [-g gid [-o]] [-f] taldea\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Erabilera: groupadd [-g gid [-o]] [-f] [-r] taldea\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1838,8 +1838,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "              [-p pasahitz] izena\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "              [-p pasahitz] [-r] izena\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/fi.po.orig shadow-4.0.5/po/fi.po
--- shadow-4.0.5/po/fi.po.orig	2004-10-24 23:35:37.000000000 +0200
+++ shadow-4.0.5/po/fi.po	2004-10-24 23:35:37.000000000 +0200
@@ -794,8 +794,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "K√§ytt√∂: groupadd [-g gid [-o]] [-f] ryhm√§\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "K√§ytt√∂: groupadd [-g gid [-o]] [-f] [-r] ryhm√§\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1836,8 +1836,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                [-p passwd] nimi\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                [-p passwd] [-r] nimi\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/fr.po.orig shadow-4.0.5/po/fr.po
--- shadow-4.0.5/po/fr.po.orig	2004-02-29 01:08:36.976312800 +0100
+++ shadow-4.0.5/po/fr.po	2004-02-29 01:10:54.569395472 +0100
@@ -795,8 +795,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Usage: groupadd [-g gid [-o]] [-f] groupe\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Usage: groupadd [-g gid [-o]] [-f] [-r] groupe\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1839,8 +1839,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "               [-p mot-de-passe] nom\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "               [-p mot-de-passe] [-r] nom\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/id.po.orig shadow-4.0.5/po/id.po
--- shadow-4.0.5/po/id.po.orig	2004-10-24 23:35:37.000000000 +0200
+++ shadow-4.0.5/po/id.po	2004-10-24 23:35:37.000000000 +0200
@@ -791,8 +791,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Penggunaan: groupadd [-g gid [-o]] [-f] grup\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Penggunaan: groupadd [-g gid [-o]] [-f] [-r] grup\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1834,8 +1834,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                    [-p kata_sandi] nama\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                    [-p kata_sandi] [-r] nama\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/it.po.orig shadow-4.0.5/po/it.po
--- shadow-4.0.5/po/it.po.orig	2004-10-24 23:35:37.000000000 +0200
+++ shadow-4.0.5/po/it.po	2004-10-24 23:35:37.000000000 +0200
@@ -818,8 +818,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Uso: groupadd [-g GID [-o]] [-f] GRUPPO\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Uso: groupadd [-g GID [-o]] [-f] [-r] GRUPPO\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1864,8 +1864,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "             [-p PASSWORD] NOME\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "             [-p PASSWORD] [-r] NOME\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/ja.po.orig shadow-4.0.5/po/ja.po
--- shadow-4.0.5/po/ja.po.orig	2004-02-29 01:08:36.981312040 +0100
+++ shadow-4.0.5/po/ja.po	2004-02-29 01:12:06.636439616 +0100
@@ -794,8 +794,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "‰ΩøÁî®Ê≥ï: groupadd [-g „Ç∞„É´„Éº„ÉóID [-o]] [-f] „Ç∞„É´„Éº„Éó\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "‰ΩøÁî®Ê≥ï: groupadd [-g „Ç∞„É´„Éº„ÉóID [-o]] [-f] [-r] „Ç∞„É´„Éº„Éó\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1828,8 +1828,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                [-p „Éë„Çπ„ÉØ„Éº„Éâ] „É¶„Éº„Ç∂Âêç\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                [-p „Éë„Çπ„ÉØ„Éº„Éâ] [-r] „É¶„Éº„Ç∂Âêç\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/ko.po.orig shadow-4.0.5/po/ko.po
--- shadow-4.0.5/po/ko.po.orig	2004-02-29 01:08:36.986311280 +0100
+++ shadow-4.0.5/po/ko.po	2004-02-29 01:12:19.165534904 +0100
@@ -792,8 +792,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "ÏÇ¨Ïö©Î≤ï: groupadd [-g GID [-o]] [-f] Í∑∏Î£πÎ™Ö\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "ÏÇ¨Ïö©Î≤ï: groupadd [-g GID [-o]] [-f] [-r] Í∑∏Î£πÎ™Ö\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1835,8 +1835,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "               [-p Ïó¥Ïá†Í∏Ä] Ïù¥Î¶Ñ\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                [-p Ìå®Ïä§ÏõåÎìú] [-r] Ïù¥Î¶Ñ\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/nb.po.orig shadow-4.0.5/po/nb.po
--- shadow-4.0.5/po/nb.po.orig	2004-10-24 23:30:23.000000000 +0200
+++ shadow-4.0.5/po/nb.po	2004-10-24 23:30:23.000000000 +0200
@@ -799,8 +799,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Bruk: groupadd [-g gid [-o]] [-f] gruppe\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Bruk: groupadd [-g gid [-o]] [-f] [-r] gruppe\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1839,8 +1839,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "              [-p passord] navn\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "              [-p passord] [-r] navn\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/nl.po.orig shadow-4.0.5/po/nl.po
--- shadow-4.0.5/po/nl.po.orig	2004-10-24 23:30:12.000000000 +0200
+++ shadow-4.0.5/po/nl.po	2004-10-24 23:30:12.000000000 +0200
@@ -797,8 +797,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Gebruik: groupadd [-g gid [-o]] [-f] groep\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Gebruik: groupadd [-g gid [-o]] [-f] [-r] groep\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1842,8 +1842,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                 [-p wachtwoord] naam\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                 [-p wachtwoord] [-r] naam\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/nn.po.orig shadow-4.0.5/po/nn.po
--- shadow-4.0.5/po/nn.po.orig	2004-10-24 23:30:03.000000000 +0200
+++ shadow-4.0.5/po/nn.po	2004-10-24 23:30:03.000000000 +0200
@@ -791,8 +791,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Bruk: groupadd [-g gid [-o]] [-f] gruppe\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Bruk: groupadd [-g gid [-o]] [-f] [-r] gruppe\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1834,8 +1834,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "              [-p passord] namn\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "              [-p passord] [-r] namn\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/pl.po.orig shadow-4.0.5/po/pl.po
--- shadow-4.0.5/po/pl.po.orig	2004-02-29 01:08:36.990310672 +0100
+++ shadow-4.0.5/po/pl.po	2004-02-29 01:12:55.314039496 +0100
@@ -795,8 +795,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "U≈ºycie: groupadd [-g gid [-o]] [-f] grupa\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "U≈ºycie: groupadd [-g gid [-o]] [-f] [-r] grupa\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1840,8 +1840,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                [-p has≈Ço] nazwa\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                [-p has≈Ço] [-r] nazwa\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/pt_BR.po.orig shadow-4.0.5/po/pt_BR.po
--- shadow-4.0.5/po/pt_BR.po.orig	2004-10-24 23:29:54.000000000 +0200
+++ shadow-4.0.5/po/pt_BR.po	2004-10-24 23:29:54.000000000 +0200
@@ -798,8 +798,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Uso : groupadd [-g gid [-o]] [-f] grupo\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Uso : groupadd [-g gid [-o]] [-f] [-r] grupo\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1842,8 +1842,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "              [-p passwd] nome\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "              [-p passwd] [-r] nome\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/pt.po.orig shadow-4.0.5/po/pt.po
--- shadow-4.0.5/po/pt.po.orig	2004-10-24 23:29:45.000000000 +0200
+++ shadow-4.0.5/po/pt.po	2004-10-24 23:29:45.000000000 +0200
@@ -799,8 +799,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Utiliza√ß√£o: groupadd [-g gid [-o]] [-f] grupo\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Utiliza√ß√£o: groupadd [-g gid [-o]] [-f] [-r] grupo\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1850,8 +1850,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                    [-p passwd] nome\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                    [-p passwd] [-r] nome\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/ru.po.orig shadow-4.0.5/po/ru.po
--- shadow-4.0.5/po/ru.po.orig	2004-02-29 01:08:37.000000000 +0100
+++ shadow-4.0.5/po/ru.po	2004-02-29 01:13:16.948750520 +0100
@@ -786,8 +786,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "–ó–∞–ø—É—Å–∫: groupadd [-g gid [-o]] [-f] –≥—Ä—É–ø–ø–∞\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "–ó–∞–ø—É—Å–∫: groupadd [-g gid [-o]] [-f] [-r] –≥—Ä—É–ø–ø–∞\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1827,8 +1827,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                [-p –ø–∞—Ä–æ–ª—å] –∏–º—è\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                [-p –ø–∞—Ä–æ–ª—å] [-r] –∏–º—è\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/sk.po.orig shadow-4.0.5/po/sk.po
--- shadow-4.0.5/po/sk.po.orig	2004-10-24 23:29:37.000000000 +0200
+++ shadow-4.0.5/po/sk.po	2004-10-24 23:29:37.000000000 +0200
@@ -796,8 +796,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Pou≈æitie: groupadd [-g gid [-o]] [-f] skupina\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Pou≈æitie: groupadd [-g gid [-o]] [-f] [-r] skupina\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1846,8 +1846,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                  [-p heslo] meno\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                  [-p heslo] [-r] meno\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/sv.po.orig shadow-4.0.5/po/sv.po
--- shadow-4.0.5/po/sv.po.orig	2004-02-29 01:08:36.994310064 +0100
+++ shadow-4.0.5/po/sv.po	2004-02-29 01:13:32.484388744 +0100
@@ -790,8 +790,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Anv√§ndning: groupadd [-g gid [-o]] [-f] grupp\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Anv√§ndning: groupadd [-g gid [-o]] [-f] [-r] grupp\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1830,8 +1830,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                    [-p passwd] namn\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                    [-p passwd] [-r] namn\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/tr.po.orig shadow-4.0.5/po/tr.po
--- shadow-4.0.5/po/tr.po.orig	2004-10-24 23:29:30.000000000 +0200
+++ shadow-4.0.5/po/tr.po	2004-10-24 23:29:30.000000000 +0200
@@ -793,8 +793,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Kullanƒ±m: groupadd [-g gid [-o]] [-f] grup\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Kullanƒ±m: groupadd [-g gid [-o]] [-f] [-r] grup\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1836,8 +1836,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                  [-p parola] isim\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                  [-p parola] [-r] isim\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/uk.po.orig shadow-4.0.5/po/uk.po
--- shadow-4.0.5/po/uk.po.orig	2004-02-29 01:08:37.000309152 +0100
+++ shadow-4.0.5/po/uk.po	2004-02-29 01:13:52.693316520 +0100
@@ -795,8 +795,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ: groupadd [-g gid [-o]] [-f] –≥—Ä—É–ø–∞\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ: groupadd [-g gid [-o]] [-f] [-r] –≥—Ä—É–ø–∞\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1840,8 +1840,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "                        [-p –ø–∞—Ä–æ–ª—å] —ñ–º'—è\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "                 [-p –ø–∞—Ä–æ–ª—å] [-r] —ñ–º'—è\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/po/zh_CN.po.orig shadow-4.0.5/po/zh_CN.po
--- shadow-4.0.5/po/zh_CN.po.orig	2004-10-24 23:29:22.000000000 +0200
+++ shadow-4.0.5/po/zh_CN.po	2004-10-24 23:29:22.000000000 +0200
@@ -789,8 +789,8 @@
 
 #: src/groupadd.c:102
 #, c-format
-msgid "Usage: groupadd [-g gid [-o]] [-f] group\n"
-msgstr "Áî®Ê≥ïÔºögroupadd [-g gid [-o]] [-f] ÁªÑ\n"
+msgid "Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"
+msgstr "Áî®Ê≥ïÔºögroupadd [-g gid [-o]] [-f] [-r] ÁªÑ\n"
 
 #: src/groupadd.c:168 src/groupadd.c:193 src/groupmod.c:180 src/groupmod.c:229
 #: src/useradd.c:937 src/usermod.c:533 src/usermod.c:676
@@ -1829,8 +1829,8 @@
 
 #: src/useradd.c:728
 #, c-format
-msgid "               [-p passwd] name\n"
-msgstr "               [-p ÂØÜÁ†Å] ÂêçÁß∞\n"
+msgid "               [-p passwd] [-r] name\n"
+msgstr "               [-p ÂØÜÁ†Å] [-r] ÂêçÁß∞\n"
 
 #: src/useradd.c:730
 #, c-format
diff -Nur shadow-4.0.5/src/groupadd.c.orig shadow-4.0.5/src/groupadd.c
--- shadow-4.0.5/src/groupadd.c.orig	2004-01-05 02:08:56.000000000 +0100
+++ shadow-4.0.5/src/groupadd.c	2004-02-29 01:15:16.315604000 +0100
@@ -72,6 +72,7 @@
 static int oflg = 0;		/* permit non-unique group ID to be specified with -g */
 static int gflg = 0;		/* ID value for the new group */
 static int fflg = 0;		/* if group already exists, do nothing and exit(0) */
+static int rflg = 0;		/* add system group (with lower gid) */
 
 #ifdef	NDBM
 extern int gr_dbm_mode;
@@ -99,7 +100,7 @@
 
 static void usage (void)
 {
-	fprintf (stderr, _("Usage: groupadd [-g gid [-o]] [-f] group\n"));
+	fprintf (stderr, _("Usage: groupadd [-g gid [-o]] [-f] [-r] group\n"));
 	exit (E_USAGE);
 }
 
@@ -225,8 +226,13 @@
 	const struct group *grp;
 	gid_t gid_min, gid_max;
 
-	gid_min = getdef_unum ("GID_MIN", 100);
-	gid_max = getdef_unum ("GID_MAX", 60000);
+	if (!rflg) {
+		gid_min = getdef_unum ("GID_MIN", 500);
+		gid_max = getdef_unum ("GID_MAX", 60000);
+	} else {
+		gid_min = getdef_unum ("SYS_GID_MIN", 10);
+		gid_max = getdef_unum ("SYS_GID_MAX", 499);
+	}
 
 	/*
 	 * Start with some GID value if the user didn't provide us with
@@ -334,7 +340,7 @@
 	char *cp;
 	int arg;
 
-	while ((arg = getopt (argc, argv, "og:O:f")) != EOF) {
+	while ((arg = getopt (argc, argv, "og:O:fr")) != EOF) {
 		switch (arg) {
 		case 'g':
 			gflg++;
@@ -380,6 +386,12 @@
 			 */
 			fflg++;
 			break;
+		case 'r':
+			/*
+			 * create system group
+			 */
+			rflg++;
+			break;
 		default:
 			usage ();
 		}
diff -Nur shadow-4.0.5/src/useradd.c.orig shadow-4.0.5/src/useradd.c
--- shadow-4.0.5/src/useradd.c.orig	2004-02-29 01:14:44.212484416 +0100
+++ shadow-4.0.5/src/useradd.c	2004-02-29 01:15:56.318522632 +0100
@@ -72,10 +72,10 @@
 /*
  * These defaults are used if there is no defaults file.
  */
-static gid_t def_group = 100;
+static gid_t def_group = 1000;
 static const char *def_gname = "other";
-static const char *def_home = "/home";
-static const char *def_shell = "";
+static const char *def_home = "/home/users";
+static const char *def_shell = "/dev/null";
 static const char *def_template = SKEL_DIR;
 
 #ifdef SHADOWPWD
@@ -88,7 +88,7 @@
 #define	VALID(s)	(strcspn (s, ":\n") == strlen (s))
 
 static const char *user_name = "";
-static const char *user_pass = "!";
+static const char *user_pass = "!!";
 static uid_t user_id;
 static gid_t user_gid;
 static const char *user_comment = "";
@@ -121,6 +121,7 @@
  mflg = 0,			/* create user's home directory if it doesn't exist */
  nflg = 0,			/* create a group having the same name as the user */
  oflg = 0,			/* permit non-unique user ID to be specified with -u */
+ rflg = 0,			/* create system account (wuth lower uid) */
  sflg = 0,			/* shell program for new account */
  uflg = 0;			/* specify user ID for new account */
 
@@ -725,7 +726,7 @@
 #ifdef SHADOWPWD
 	fprintf (stderr, _("               [-f inactive] [-e expire]\n"));
 #endif
-	fprintf (stderr, _("               [-p passwd] name\n"));
+	fprintf (stderr, _("               [-p passwd] [-r] name\n"));
 	fprintf (stderr,
 		 _("       useradd -D [-g group] [-b base] [-s shell]\n"));
 #ifdef SHADOWPWD
@@ -950,8 +951,13 @@
 	const struct passwd *pwd;
 	uid_t uid_min, uid_max;
 
-	uid_min = getdef_unum ("UID_MIN", 100);
-	uid_max = getdef_unum ("UID_MAX", 60000);
+	if (!rflg) {
+		uid_min = getdef_unum ("UID_MIN", 500);
+		uid_max = getdef_unum ("UID_MAX", 60000);
+	} else {
+		uid_min = getdef_unum ("SYS_UID_MIN", 1);
+		uid_max = getdef_unum ("SYS_UID_MAX", 499);
+	}
 
 	/*
 	 * Start with some UID value if the user didn't provide us with
@@ -1033,9 +1039,9 @@
 	char *cp;
 
 #ifdef SHADOWPWD
-#define FLAGS "A:Du:og:G:d:s:c:mk:p:f:e:b:O:M"
+#define FLAGS "A:Du:og:G:d:s:c:mk:p:f:e:b:O:Mr"
 #else
-#define FLAGS "A:Du:og:G:d:s:c:mk:p:b:O:M"
+#define FLAGS "A:Du:og:G:d:s:c:mk:p:b:O:Mr"
 #endif
 	while ((arg = getopt (argc, argv, FLAGS)) != EOF) {
 #undef FLAGS
@@ -1189,6 +1195,9 @@
 			}
 			user_pass = optarg;
 			break;
+		case 'r':	/* create system account */
+			rflg++;
+			break;
 		case 's':
 			if (!VALID (optarg) || (optarg[0] &&
 						(optarg[0] != '/'
